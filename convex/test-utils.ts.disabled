import { convexTest } from 'convex-test';
import { beforeEach } from 'vitest';
import schema from './schema.js';

export const setupConvexTest = () => {
  return convexTest(schema);
};

// Global setup for convex tests
let t: ReturnType<typeof setupConvexTest>;

beforeEach(() => {
  t = setupConvexTest();
});

export { t };